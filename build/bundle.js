var app=function(){"use strict";function l(){}function e(l){return l()}function t(){return Object.create(null)}function n(l){l.forEach(e)}function o(l){return"function"==typeof l}function c(l,e){return l!=l?e==e:l!==e||l&&"object"==typeof l||"function"==typeof l}let a,r;function u(l,e){return a||(a=document.createElement("a")),a.href=e,l===a.href}function i(l,e){l.appendChild(e)}function s(l,e,t){l.insertBefore(e,t||null)}function _(l){l.parentNode.removeChild(l)}function f(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function y(l){return document.createElement(l)}function h(l){return document.createTextNode(l)}function d(){return h(" ")}function p(){return h("")}function m(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function g(l,e,t){null==t?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function $(l,e){l.value=null==e?"":e}function b(l,e,t,n){l.style.setProperty(e,t,n?"important":"")}function v(l,e){for(let t=0;t<l.options.length;t+=1){const n=l.options[t];if(n.__value===e)return void(n.selected=!0)}l.selectedIndex=-1}function w(l){r=l}function k(){if(!r)throw new Error("Function called outside component initialization");return r}const S=[],E=[],N=[],A=[],B=Promise.resolve();let C=!1;function M(l){N.push(l)}let R=!1;const L=new Set;function T(){if(!R){R=!0;do{for(let l=0;l<S.length;l+=1){const e=S[l];w(e),P(e.$$)}for(w(null),S.length=0;E.length;)E.pop()();for(let l=0;l<N.length;l+=1){const e=N[l];L.has(e)||(L.add(e),e())}N.length=0}while(S.length);for(;A.length;)A.pop()();C=!1,R=!1,L.clear()}}function P(l){if(null!==l.fragment){l.update(),n(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(M)}}const x=new Set;let I;function G(){I={r:0,c:[],p:I}}function H(){I.r||n(I.c),I=I.p}function O(l,e){l&&l.i&&(x.delete(l),l.i(e))}function U(l,e,t,n){if(l&&l.o){if(x.has(l))return;x.add(l),I.c.push((()=>{x.delete(l),n&&(t&&l.d(1),n())})),l.o(e)}}function z(l,e){const t=e.token={};function n(l,n,o,c){if(e.token!==t)return;e.resolved=c;let a=e.ctx;void 0!==o&&(a=a.slice(),a[o]=c);const r=l&&(e.current=l)(a);let u=!1;e.block&&(e.blocks?e.blocks.forEach(((l,t)=>{t!==n&&l&&(G(),U(l,1,1,(()=>{e.blocks[t]===l&&(e.blocks[t]=null)})),H())})):e.block.d(1),r.c(),O(r,1),r.m(e.mount(),e.anchor),u=!0),e.block=r,e.blocks&&(e.blocks[n]=r),u&&T()}if((o=l)&&"object"==typeof o&&"function"==typeof o.then){const t=k();if(l.then((l=>{w(t),n(e.then,1,e.value,l),w(null)}),(l=>{if(w(t),n(e.catch,2,e.error,l),w(null),!e.hasCatch)throw l})),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,l),!0;e.resolved=l}var o}function K(l,e,t){const n=e.slice(),{resolved:o}=l;l.current===l.then&&(n[l.value]=o),l.current===l.catch&&(n[l.error]=o),l.block.p(n,t)}function D(l){l&&l.c()}function q(l,t,c,a){const{fragment:r,on_mount:u,on_destroy:i,after_update:s}=l.$$;r&&r.m(t,c),a||M((()=>{const t=u.map(e).filter(o);i?i.push(...t):n(t),l.$$.on_mount=[]})),s.forEach(M)}function J(l,e){const t=l.$$;null!==t.fragment&&(n(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function j(l,e){-1===l.$$.dirty[0]&&(S.push(l),C||(C=!0,B.then(T)),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function F(e,o,c,a,u,i,s,f=[-1]){const y=r;w(e);const h=e.$$={fragment:null,ctx:null,props:i,update:l,not_equal:u,bound:t(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(y?y.$$.context:[])),callbacks:t(),dirty:f,skip_bound:!1,root:o.target||y.$$.root};s&&s(h.root);let d=!1;if(h.ctx=c?c(e,o.props||{},((l,t,...n)=>{const o=n.length?n[0]:t;return h.ctx&&u(h.ctx[l],h.ctx[l]=o)&&(!h.skip_bound&&h.bound[l]&&h.bound[l](o),d&&j(e,l)),t})):[],h.update(),d=!0,n(h.before_update),h.fragment=!!a&&a(h.ctx),o.target){if(o.hydrate){const l=function(l){return Array.from(l.childNodes)}(o.target);h.fragment&&h.fragment.l(l),l.forEach(_)}else h.fragment&&h.fragment.c();o.intro&&O(e.$$.fragment),q(e,o.target,o.anchor,o.customElement),T()}w(y)}class Y{$destroy(){J(this,1),this.$destroy=l}$on(l,e){const t=this.$$.callbacks[l]||(this.$$.callbacks[l]=[]);return t.push(e),()=>{const l=t.indexOf(e);-1!==l&&t.splice(l,1)}}$set(l){var e;this.$$set&&(e=l,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(l),this.$$.skip_bound=!1)}}function Z(){let l=["https://warm-coast-72718.herokuapp.com/","https://afternoon-falls-07756.herokuapp.com/","https://boiling-oasis-44034.herokuapp.com/","https://ancient-lowlands-02291.herokuapp.com/","https://agile-forest-65193.herokuapp.com/"];return l[Math.floor(Math.random()*l.length)]}async function V(){const l=await([{country:"United States",full_locale:"en_US"},{country:"Germany",full_locale:"de_DE"},{country:"Brazil",full_locale:"pt_BR"},{country:"Australia",full_locale:"en_AU"},{country:"New Zealand",full_locale:"en_NZ"},{country:"Canada",full_locale:"en_CA"},{country:"United Kingdom",full_locale:"en_GB"},{country:"South Africa",full_locale:"en_ZA"},{country:"Ireland",full_locale:"en_IE"},{country:"Lithuania",full_locale:"lt_LT"},{country:"Taiwan",full_locale:"zh_TW"},{country:"Egypt",full_locale:"ar_EG"},{country:"France",full_locale:"fr_FR"},{country:"Norway",full_locale:"nb_NO"},{country:"South Korea",full_locale:"ko_KR"},{country:"Italy",full_locale:"it_IT"},{country:"Mexico",full_locale:"es_MX"},{country:"Japan",full_locale:"ja_JP"},{country:"Netherlands",full_locale:"en_NL"},{country:"Guatemala",full_locale:"es_GT"},{country:"Belgium",full_locale:"fr_BE"},{country:"Peru",full_locale:"es_PE"},{country:"Saudi Arabia",full_locale:"ar_SA"},{country:"Thailand",full_locale:"en_TH"},{country:"Hong Kong",full_locale:"zh_HK"},{country:"Slovakia",full_locale:"sk_SK"},{country:"Bulgaria",full_locale:"bg_BG"},{country:"Portugal",full_locale:"pt_PT"},{country:"Czech Republic",full_locale:"cs_CZ"},{country:"Russia",full_locale:"ru_RU"},{country:"India",full_locale:"en_IN"},{country:"Switzerland",full_locale:"de_CH"},{country:"Austria",full_locale:"de_AT"},{country:"Malaysia",full_locale:"en_MY"},{country:"Indonesia",full_locale:"en_ID"},{country:"Honduras",full_locale:"es_HN"},{country:"Singapore",full_locale:"en_SG"},{country:"Poland",full_locale:"pl_PL"},{country:"Finland",full_locale:"fi_FI"},{country:"Hungary",full_locale:"hu_HU"},{country:"Greece",full_locale:"el_GR"},{country:"Turkey",full_locale:"tr_TR"},{country:"Colombia",full_locale:"es_CO"},{country:"Venezuela",full_locale:"es_VE"},{country:"Philippines",full_locale:"en_PH"},{country:"Estonia",full_locale:"et_EE"},{country:"Paraguay",full_locale:"es_PY"},{country:"United Arab Emirates",full_locale:"ar_AE"},{country:"Iceland",full_locale:"is_IS"},{country:"Sweden",full_locale:"sv_SE"},{country:"Romania",full_locale:"ro_RO"},{country:"Jamaica",full_locale:"en_JM"},{country:"Moldova",full_locale:"ro_MD"},{country:"Panama",full_locale:"es_PA"},{country:"Uruguay",full_locale:"es_UY"},{country:"Dominican Republic",full_locale:"es_DO"},{country:"El Salvador",full_locale:"es_SV"},{country:"Liechtenstein",full_locale:"de_LI"},{country:"Monaco",full_locale:"fr_MC"},{country:"San Marino",full_locale:"it_SM"},{country:"Gibraltar",full_locale:"en_GI"},{country:"Barbados",full_locale:"en_BB"},{country:"Norway",full_locale:"en_NO"},{country:"Bahrain",full_locale:"ar_BH"},{country:"Bermuda",full_locale:"en_BM"},{country:"Bahamas",full_locale:"en_BS"},{country:"Algeria",full_locale:"ar_DZ"},{country:"French Guiana",full_locale:"fr_GF"},{country:"Jordan",full_locale:"ar_JO"},{country:"Kuwait",full_locale:"ar_KW"},{country:"Libya",full_locale:"ar_LY"},{country:"Morocco",full_locale:"ar_MA"},{country:"Oman",full_locale:"ar_OM"},{country:"Qatar",full_locale:"ar_QA"},{country:"Tunisia",full_locale:"ar_TN"},{country:"Croatia",full_locale:"hr_HR"},{country:"Yemen",full_locale:"ar_YE"},{country:"Denmark",full_locale:"en_DK"},{country:"Argentina",full_locale:"es_AR"},{country:"Chile",full_locale:"es_CL"},{country:"Ecuador",full_locale:"es_EC"},{country:"Bolivia",full_locale:"es_BO"},{country:"Spain",full_locale:"es_ES"},{country:"Latvia",full_locale:"lv_LV"},{country:"Costa Rica",full_locale:"es_CR"}]);var e=[],t=l.map((async l=>{var t=await async function(l){const e=`${Z()}https://apis.justwatch.com/content/providers/locale/${l}`,t=await fetch(e,{headers:{"X-Requested-With":"fetch"}});if(0==t.ok)throw new Error("Http Error: "+t.status);return t.json()}(l.full_locale),n={country:l.country,providers:t};e.push(n)}));return await Promise.all(t),e}class W{constructor(l,e,t,n,o,c){this.title=l,this.id=e,this.poster_uri=t,this.type=n,this.release_year=o,this.query_locale=c}}async function Q(l,e){const t=await async function(l,e){console.log(Z());const t=`${Z()}https://apis.justwatch.com/content/titles/${e}/popular`,n={query:l},o=await fetch(t,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json","X-Requested-With":"fetch"}});if(0==o.ok)throw new Error("Http Error: "+o.status);return await o.json()}(l,e.full_locale);var n=[];return t.items.forEach((l=>{var t,o=new RegExp("\\s*([0-9]+)").exec(l.poster);t=null==o?"NULL":`https://images.justwatch.com/poster/${o[0]}/s592/poster.webp`,n.push(new W(l.title,l.id,t,l.object_type,l.original_release_year,e))})),n}function X(e){let t;return{c(){t=y("div"),t.innerHTML='<span class="svelte-152oh3b"><h1 class="svelte-152oh3b">Loading...</h1></span> \n  <span class="svelte-152oh3b"><div class="loader svelte-152oh3b"></div></span>',b(t,"padding-top","8rem"),b(t,"height","100vh")},m(l,e){s(l,t,e)},p:l,i:l,o:l,d(l){l&&_(t)}}}class ll extends Y{constructor(l){super(),F(this,l,null,X,c,{})}}function el(l,e,t){const n=l.slice();return n[7]=e[t],n}function tl(e){let t,o,c,a,r,u,h,p,w,k,S,E,N,A,B,C,R,L,T,P=e[3],x=[];for(let l=0;l<P.length;l+=1)x[l]=ol(el(e,P,l));return{c(){t=y("div"),o=y("div"),c=d(),a=y("div"),r=y("h1"),r.textContent="Global Streaming Search",u=d(),h=y("h3"),h.textContent="Search for a movie or TV show title and see what streaming services\n          offer it worldwide!",p=d(),w=y("p"),w.textContent="Optionally select a country for the initial search, allows searching\n          in your country's native language.",k=d(),S=y("form"),E=y("div"),N=y("input"),A=d(),B=y("input"),C=d(),R=y("select");for(let l=0;l<x.length;l+=1)x[l].c();g(o,"class","background svelte-1tqhm95"),g(r,"class","svelte-1tqhm95"),g(h,"class","svelte-1tqhm95"),g(w,"class","svelte-1tqhm95"),g(N,"class","search svelte-1tqhm95"),g(N,"type","text"),g(N,"placeholder","🔎 Title"),b(N,"width","30vw"),g(B,"type","submit"),g(B,"class","search svelte-1tqhm95"),B.value="Search",g(R,"class","search svelte-1tqhm95"),void 0===e[1]&&M((()=>e[6].call(R))),g(a,"class","top svelte-1tqhm95"),g(t,"class","class svelte-1tqhm95")},m(l,n){s(l,t,n),i(t,o),i(t,c),i(t,a),i(a,r),i(a,u),i(a,h),i(a,p),i(a,w),i(a,k),i(a,S),i(S,E),i(E,N),$(N,e[0]),i(E,A),i(E,B),i(S,C),i(S,R);for(let l=0;l<x.length;l+=1)x[l].m(R,null);var _;v(R,e[1]),L||(T=[m(N,"input",e[5]),m(R,"change",e[6]),m(S,"submit",(_=e[4],function(l){return l.preventDefault(),_.call(this,l)}))],L=!0)},p(l,e){if(1&e&&N.value!==l[0]&&$(N,l[0]),8&e){let t;for(P=l[3],t=0;t<P.length;t+=1){const n=el(l,P,t);x[t]?x[t].p(n,e):(x[t]=ol(n),x[t].c(),x[t].m(R,null))}for(;t<x.length;t+=1)x[t].d(1);x.length=P.length}10&e&&v(R,l[1])},i:l,o:l,d(l){l&&_(t),f(x,l),L=!1,n(T)}}}function nl(l){let e,t;return e=new Jl({props:{page:"SearchResults",search:l[0]+",",locale:JSON.parse(l[1])}}),{c(){D(e.$$.fragment)},m(l,n){q(e,l,n),t=!0},p(l,t){const n={};1&t&&(n.search=l[0]+","),2&t&&(n.locale=JSON.parse(l[1])),e.$set(n)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function ol(e){let t,n,o,c=e[7].country+"";return{c(){t=y("option"),n=h(c),t.__value=o=JSON.stringify(e[7]),t.value=t.__value},m(l,e){s(l,t,e),i(t,n)},p:l,d(l){l&&_(t)}}}function cl(l){let e,t,n,o;const c=[nl,tl],a=[];function r(l,e){return l[2]?0:1}return e=r(l),t=a[e]=c[e](l),{c(){t.c(),n=p()},m(l,t){a[e].m(l,t),s(l,n,t),o=!0},p(l,[o]){let u=e;e=r(l),e===u?a[e].p(l,o):(G(),U(a[u],1,1,(()=>{a[u]=null})),H(),t=a[e],t?t.p(l,o):(t=a[e]=c[e](l),t.c()),O(t,1),t.m(n.parentNode,n))},i(l){o||(O(t),o=!0)},o(l){U(t),o=!1},d(l){a[e].d(l),l&&_(n)}}}function al(l,e,t){let n,o,c=[{country:"United States",full_locale:"en_US"},{country:"Germany",full_locale:"de_DE"},{country:"Brazil",full_locale:"pt_BR"},{country:"Australia",full_locale:"en_AU"},{country:"New Zealand",full_locale:"en_NZ"},{country:"Canada",full_locale:"en_CA"},{country:"United Kingdom",full_locale:"en_GB"},{country:"South Africa",full_locale:"en_ZA"},{country:"Ireland",full_locale:"en_IE"},{country:"Lithuania",full_locale:"lt_LT"},{country:"Taiwan",full_locale:"zh_TW"},{country:"Egypt",full_locale:"ar_EG"},{country:"France",full_locale:"fr_FR"},{country:"Norway",full_locale:"nb_NO"},{country:"South Korea",full_locale:"ko_KR"},{country:"Italy",full_locale:"it_IT"},{country:"Mexico",full_locale:"es_MX"},{country:"Japan",full_locale:"ja_JP"},{country:"Netherlands",full_locale:"en_NL"},{country:"Guatemala",full_locale:"es_GT"},{country:"Belgium",full_locale:"fr_BE"},{country:"Peru",full_locale:"es_PE"},{country:"Saudi Arabia",full_locale:"ar_SA"},{country:"Thailand",full_locale:"en_TH"},{country:"Hong Kong",full_locale:"zh_HK"},{country:"Slovakia",full_locale:"sk_SK"},{country:"Bulgaria",full_locale:"bg_BG"},{country:"Portugal",full_locale:"pt_PT"},{country:"Czech Republic",full_locale:"cs_CZ"},{country:"Russia",full_locale:"ru_RU"},{country:"India",full_locale:"en_IN"},{country:"Switzerland",full_locale:"de_CH"},{country:"Austria",full_locale:"de_AT"},{country:"Malaysia",full_locale:"en_MY"},{country:"Indonesia",full_locale:"en_ID"},{country:"Honduras",full_locale:"es_HN"},{country:"Singapore",full_locale:"en_SG"},{country:"Poland",full_locale:"pl_PL"},{country:"Finland",full_locale:"fi_FI"},{country:"Hungary",full_locale:"hu_HU"},{country:"Greece",full_locale:"el_GR"},{country:"Turkey",full_locale:"tr_TR"},{country:"Colombia",full_locale:"es_CO"},{country:"Venezuela",full_locale:"es_VE"},{country:"Philippines",full_locale:"en_PH"},{country:"Estonia",full_locale:"et_EE"},{country:"Paraguay",full_locale:"es_PY"},{country:"United Arab Emirates",full_locale:"ar_AE"},{country:"Iceland",full_locale:"is_IS"},{country:"Sweden",full_locale:"sv_SE"},{country:"Romania",full_locale:"ro_RO"},{country:"Jamaica",full_locale:"en_JM"},{country:"Moldova",full_locale:"ro_MD"},{country:"Panama",full_locale:"es_PA"},{country:"Uruguay",full_locale:"es_UY"},{country:"Dominican Republic",full_locale:"es_DO"},{country:"El Salvador",full_locale:"es_SV"},{country:"Liechtenstein",full_locale:"de_LI"},{country:"Monaco",full_locale:"fr_MC"},{country:"San Marino",full_locale:"it_SM"},{country:"Gibraltar",full_locale:"en_GI"},{country:"Barbados",full_locale:"en_BB"},{country:"Norway",full_locale:"en_NO"},{country:"Bahrain",full_locale:"ar_BH"},{country:"Bermuda",full_locale:"en_BM"},{country:"Bahamas",full_locale:"en_BS"},{country:"Algeria",full_locale:"ar_DZ"},{country:"French Guiana",full_locale:"fr_GF"},{country:"Jordan",full_locale:"ar_JO"},{country:"Kuwait",full_locale:"ar_KW"},{country:"Libya",full_locale:"ar_LY"},{country:"Morocco",full_locale:"ar_MA"},{country:"Oman",full_locale:"ar_OM"},{country:"Qatar",full_locale:"ar_QA"},{country:"Tunisia",full_locale:"ar_TN"},{country:"Croatia",full_locale:"hr_HR"},{country:"Yemen",full_locale:"ar_YE"},{country:"Denmark",full_locale:"en_DK"},{country:"Argentina",full_locale:"es_AR"},{country:"Chile",full_locale:"es_CL"},{country:"Ecuador",full_locale:"es_EC"},{country:"Bolivia",full_locale:"es_BO"},{country:"Spain",full_locale:"es_ES"},{country:"Latvia",full_locale:"lv_LV"},{country:"Costa Rica",full_locale:"es_CR"}],a=!1;return[n,o,a,c,function(){null!=n?t(2,a=!0):alert("Please input a valid title.")},function(){n=this.value,t(0,n)},function(){o=function(l){const e=l.querySelector(":checked")||l.options[0];return e&&e.__value}(this),t(1,o),t(3,c)}]}class rl extends Y{constructor(l){super(),F(this,l,al,cl,c,{})}}function ul(e){let t;return{c(){t=y("div"),t.innerHTML='<a href="https://colaski.github.io/global-streaming-search/"><h1 class="svelte-szpydc">Global Streaming Search</h1></a>',g(t,"class","svelte-szpydc")},m(l,e){s(l,t,e)},p:l,i:l,o:l,d(l){l&&_(t)}}}class il extends Y{constructor(l){super(),F(this,l,null,ul,c,{})}}class sl extends W{constructor(l,e,t,n,o){super(l.title,l.id,l.poster_uri,l.type,l.release_year,l.query_locale),this.short_description=e,this.number_seasons=t,this.backdrop_url=n,this.offers=o}}async function _l(l,e){const t=await([{country:"United States",full_locale:"en_US"},{country:"Germany",full_locale:"de_DE"},{country:"Brazil",full_locale:"pt_BR"},{country:"Australia",full_locale:"en_AU"},{country:"New Zealand",full_locale:"en_NZ"},{country:"Canada",full_locale:"en_CA"},{country:"United Kingdom",full_locale:"en_GB"},{country:"South Africa",full_locale:"en_ZA"},{country:"Ireland",full_locale:"en_IE"},{country:"Lithuania",full_locale:"lt_LT"},{country:"Taiwan",full_locale:"zh_TW"},{country:"Egypt",full_locale:"ar_EG"},{country:"France",full_locale:"fr_FR"},{country:"Norway",full_locale:"nb_NO"},{country:"South Korea",full_locale:"ko_KR"},{country:"Italy",full_locale:"it_IT"},{country:"Mexico",full_locale:"es_MX"},{country:"Japan",full_locale:"ja_JP"},{country:"Netherlands",full_locale:"en_NL"},{country:"Guatemala",full_locale:"es_GT"},{country:"Belgium",full_locale:"fr_BE"},{country:"Peru",full_locale:"es_PE"},{country:"Saudi Arabia",full_locale:"ar_SA"},{country:"Thailand",full_locale:"en_TH"},{country:"Hong Kong",full_locale:"zh_HK"},{country:"Slovakia",full_locale:"sk_SK"},{country:"Bulgaria",full_locale:"bg_BG"},{country:"Portugal",full_locale:"pt_PT"},{country:"Czech Republic",full_locale:"cs_CZ"},{country:"Russia",full_locale:"ru_RU"},{country:"India",full_locale:"en_IN"},{country:"Switzerland",full_locale:"de_CH"},{country:"Austria",full_locale:"de_AT"},{country:"Malaysia",full_locale:"en_MY"},{country:"Indonesia",full_locale:"en_ID"},{country:"Honduras",full_locale:"es_HN"},{country:"Singapore",full_locale:"en_SG"},{country:"Poland",full_locale:"pl_PL"},{country:"Finland",full_locale:"fi_FI"},{country:"Hungary",full_locale:"hu_HU"},{country:"Greece",full_locale:"el_GR"},{country:"Turkey",full_locale:"tr_TR"},{country:"Colombia",full_locale:"es_CO"},{country:"Venezuela",full_locale:"es_VE"},{country:"Philippines",full_locale:"en_PH"},{country:"Estonia",full_locale:"et_EE"},{country:"Paraguay",full_locale:"es_PY"},{country:"United Arab Emirates",full_locale:"ar_AE"},{country:"Iceland",full_locale:"is_IS"},{country:"Sweden",full_locale:"sv_SE"},{country:"Romania",full_locale:"ro_RO"},{country:"Jamaica",full_locale:"en_JM"},{country:"Moldova",full_locale:"ro_MD"},{country:"Panama",full_locale:"es_PA"},{country:"Uruguay",full_locale:"es_UY"},{country:"Dominican Republic",full_locale:"es_DO"},{country:"El Salvador",full_locale:"es_SV"},{country:"Liechtenstein",full_locale:"de_LI"},{country:"Monaco",full_locale:"fr_MC"},{country:"San Marino",full_locale:"it_SM"},{country:"Gibraltar",full_locale:"en_GI"},{country:"Barbados",full_locale:"en_BB"},{country:"Norway",full_locale:"en_NO"},{country:"Bahrain",full_locale:"ar_BH"},{country:"Bermuda",full_locale:"en_BM"},{country:"Bahamas",full_locale:"en_BS"},{country:"Algeria",full_locale:"ar_DZ"},{country:"French Guiana",full_locale:"fr_GF"},{country:"Jordan",full_locale:"ar_JO"},{country:"Kuwait",full_locale:"ar_KW"},{country:"Libya",full_locale:"ar_LY"},{country:"Morocco",full_locale:"ar_MA"},{country:"Oman",full_locale:"ar_OM"},{country:"Qatar",full_locale:"ar_QA"},{country:"Tunisia",full_locale:"ar_TN"},{country:"Croatia",full_locale:"hr_HR"},{country:"Yemen",full_locale:"ar_YE"},{country:"Denmark",full_locale:"en_DK"},{country:"Argentina",full_locale:"es_AR"},{country:"Chile",full_locale:"es_CL"},{country:"Ecuador",full_locale:"es_EC"},{country:"Bolivia",full_locale:"es_BO"},{country:"Spain",full_locale:"es_ES"},{country:"Latvia",full_locale:"lv_LV"},{country:"Costa Rica",full_locale:"es_CR"}]);let n=[];var o=t.map((async e=>{let t=await async function(l,e,t){const n=`${Z()}https://apis.justwatch.com/content/titles/${t}/${l}/locale/${e}`,o=await fetch(n,{headers:{"X-Requested-With":"fetch"}});if(0==o.ok)throw new Error("Http Error: "+o.status);return o.json()}(l.id,e.full_locale,l.type);n.push({country:e.country,info:t})}));await Promise.all(o);let c=n.filter((e=>e.country===l.query_locale.country));c=c[0].info;let a=c.short_description,r=new RegExp("\\s*([0-9]+)").exec(c.backdrops[0].backdrop_url),u=null!=r?`https://images.justwatch.com/backdrop/${r[0]}/s1920/backdrop.webp`:"NULL",i="seasons"in c?c.seasons:"NULL",s=[];var _=n.map((async l=>{let t=l.country;if("offers"in(l=l.info)){let o=[];var n=l.offers.map((async l=>{l.monitization_types,e.forEach((e=>{l.provider_id==e.id&&o.push({id:e.id,short_name:e.short_name,clear_name:e.clear_name,icon_uri:e.icon_uri,monetization_types:e.monetization_types,url:l.urls.standard_web})}))}));await Promise.all(n),s.push({country:t,offers:o})}}));return await Promise.all(_),new sl(l,a,i,u,s)}class fl{constructor(l,e,t,n,o){this.id=l,this.short_name=e,this.clear_name=t,this.icon_uri=n,this.monetization_types=o}}function yl(l,e,t){const n=l.slice();return n[7]=e[t],n}function hl(l){let e,t,n,o,c,a,r,u,f;e=new il({});let m={ctx:l,current:null,token:null,hasCatch:!1,pending:kl,then:ml,catch:pl,value:4,blocks:[,,,]};return z(l[4],m),{c(){D(e.$$.fragment),t=d(),n=y("h2"),o=h("Results for "),c=y("span"),a=h(l[0]),r=d(),u=p(),m.block.c(),b(c,"color","red"),b(n,"color","white"),b(n,"text-align","center")},m(l,_){q(e,l,_),s(l,t,_),s(l,n,_),i(n,o),i(n,c),i(c,a),s(l,r,_),s(l,u,_),m.block.m(l,m.anchor=_),m.mount=()=>u.parentNode,m.anchor=u,f=!0},p(e,t){l=e,(!f||1&t)&&function(l,e){e=""+e,l.wholeText!==e&&(l.data=e)}(a,l[0]),K(m,l,t)},i(l){f||(O(e.$$.fragment,l),O(m.block),f=!0)},o(l){U(e.$$.fragment,l);for(let l=0;l<3;l+=1){U(m.blocks[l])}f=!1},d(l){J(e,l),l&&_(t),l&&_(n),l&&_(r),l&&_(u),m.block.d(l),m.token=null,m=null}}}function dl(l){let e,t;return e=new Jl({props:{page:"Selection",selection:l[2]}}),{c(){D(e.$$.fragment)},m(l,n){q(e,l,n),t=!0},p(l,t){const n={};4&t&&(n.selection=l[2]),e.$set(n)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function pl(e){return{c:l,m:l,p:l,i:l,o:l,d:l}}function ml(e){let t;let n=function(l,e){return l[4].length>0?$l:gl}(e),o=n(e);return{c(){o.c(),t=p()},m(l,e){o.m(l,e),s(l,t,e)},p(l,e){o.p(l,e)},i:l,o:l,d(l){o.d(l),l&&_(t)}}}function gl(e){let t;return{c(){t=y("span"),t.innerHTML="<h1>No results 😭</h1> \n        <h2>please reload the page and try a different title.</h2>",b(t,"color","white"),b(t,"text-align","center")},m(l,e){s(l,t,e)},p:l,d(l){l&&_(t)}}}function $l(l){let e,t=l[4],n=[];for(let e=0;e<t.length;e+=1)n[e]=wl(yl(l,t,e));return{c(){e=y("div");for(let l=0;l<n.length;l+=1)n[l].c();g(e,"class","results svelte-1rudybt")},m(l,t){s(l,e,t);for(let l=0;l<n.length;l+=1)n[l].m(e,null)},p(l,o){if(24&o){let c;for(t=l[4],c=0;c<t.length;c+=1){const a=yl(l,t,c);n[c]?n[c].p(a,o):(n[c]=wl(a),n[c].c(),n[c].m(e,null))}for(;c<n.length;c+=1)n[c].d(1);n.length=t.length}},d(l){l&&_(e),f(n,l)}}}function bl(e){let t,n;return{c(){t=y("img"),u(t.src,n="./images/noImage.webp")||g(t,"src","./images/noImage.webp"),g(t,"alt","No image found for the "+e[7].type+" "+e[7].title),g(t,"class","svelte-1rudybt")},m(l,e){s(l,t,e)},p:l,d(l){l&&_(t)}}}function vl(e){let t,n;return{c(){t=y("img"),u(t.src,n=e[7].poster_uri)||g(t,"src",n),g(t,"alt","Poster for the "+e[7].type+" "+e[7].title),g(t,"class","svelte-1rudybt")},m(l,e){s(l,t,e)},p:l,d(l){l&&_(t)}}}function wl(l){let e,t,n,o,c,a,r,u,f,p,$,v,w,k,S,E,N,A=l[7].title+"",B=l[7].release_year+"",C=l[7].type+"";let M=function(l,e){return"NULL"!=l[7].poster_uri?vl:bl}(l),R=M(l);function L(){return l[6](l[7])}return{c(){e=y("div"),t=y("div"),R.c(),n=d(),o=y("span"),c=y("h2"),a=h(A),r=d(),u=y("h4"),f=h("("),p=h(B),$=h(")"),v=d(),w=y("h4"),k=h(C),S=d(),g(o,"class","resultinfo svelte-1rudybt"),g(t,"class","result svelte-1rudybt"),b(e,"display","inline-block"),b(e,"margin-left","2rem"),b(e,"margin-right","2rem"),b(e,"margin-bottom","2rem")},m(l,_){s(l,e,_),i(e,t),R.m(t,null),i(t,n),i(t,o),i(o,c),i(c,a),i(o,r),i(o,u),i(u,f),i(u,p),i(u,$),i(o,v),i(o,w),i(w,k),i(e,S),E||(N=m(o,"click",L),E=!0)},p(e,t){l=e,R.p(l,t)},d(l){l&&_(e),R.d(),E=!1,N()}}}function kl(e){let t,n;return t=new ll({}),{c(){D(t.$$.fragment)},m(l,e){q(t,l,e),n=!0},p:l,i(l){n||(O(t.$$.fragment,l),n=!0)},o(l){U(t.$$.fragment,l),n=!1},d(l){J(t,l)}}}function Sl(l){let e,t,n,o;const c=[dl,hl],a=[];function r(l,e){return l[1]?0:1}return e=r(l),t=a[e]=c[e](l),{c(){t.c(),n=p()},m(l,t){a[e].m(l,t),s(l,n,t),o=!0},p(l,[o]){let u=e;e=r(l),e===u?a[e].p(l,o):(G(),U(a[u],1,1,(()=>{a[u]=null})),H(),t=a[e],t?t.p(l,o):(t=a[e]=c[e](l),t.c()),O(t,1),t.m(n.parentNode,n))},i(l){o||(O(t),o=!0)},o(l){U(t),o=!1},d(l){a[e].d(l),l&&_(n)}}}function El(l,e,t){let{query:n}=e,{locale:o}=e;n=n.replace(",,","");let c,a=async function(l,e){return await Q(l,e)}(n,o),r=!1;function u(l){t(1,r=!0),t(2,c=JSON.stringify(l))}return l.$$set=l=>{"query"in l&&t(0,n=l.query),"locale"in l&&t(5,o=l.locale)},[n,r,c,u,a,o,l=>u(l)]}class Nl extends Y{constructor(l){super(),F(this,l,El,Sl,c,{query:0,locale:5})}}function Al(l,e,t){const n=l.slice();return n[4]=e[t],n}function Bl(l,e,t){const n=l.slice();return n[7]=e[t],n}function Cl(e){let t,n,o,c;return t=new il({}),{c(){D(t.$$.fragment),n=d(),o=y("div"),o.innerHTML="<h1>The website is being rate limited 😞, please try again later</h1> \n    <p></p> \n    <h3>If you happen to know what Node.js is you can run this website locally and avoid rate limits.</h3> \n    <h3>Click the Github logo in the corner for more information.</h3>",b(o,"text-align","center"),b(o,"color","white"),b(o,"margin","1rem")},m(l,e){q(t,l,e),s(l,n,e),s(l,o,e),c=!0},p:l,i(l){c||(O(t.$$.fragment,l),c=!0)},o(l){U(t.$$.fragment,l),c=!1},d(l){J(t,l),l&&_(n),l&&_(o)}}}function Ml(l){let e,t,n,o,c,a,r,p,m,$,v,w,k,S,E,N,A,B,C,M,R,L=l[3].title+"",T=l[3].release_year+"",P=l[3].short_description+"";e=new il({});let x=l[3].offers,I=[];for(let e=0;e<x.length;e+=1)I[e]=Ll(Al(l,x,e));return{c(){D(e.$$.fragment),t=d(),n=y("div"),o=y("div"),c=d(),a=y("div"),r=y("div"),p=y("img"),$=d(),v=y("div"),w=y("h1"),k=h(L),S=d(),E=y("h3"),N=h(T),A=d(),B=y("p"),C=h(P),M=d();for(let l=0;l<I.length;l+=1)I[l].c();b(o,"background-color","transparent"),b(o,"height","15rem"),u(p.src,m=l[3].poster_uri)||g(p,"src",m),g(p,"alt","Poster for the "+l[3].type+" "+l[3].title),g(p,"class","svelte-nayd1u"),g(v,"class","text svelte-nayd1u"),b(r,"display","flex"),b(r,"align-items","left"),g(a,"class","box svelte-nayd1u"),g(n,"class","selection svelte-nayd1u"),b(n,"--backdrop-url","url("+l[3].backdrop_url+")")},m(l,u){q(e,l,u),s(l,t,u),s(l,n,u),i(n,o),i(n,c),i(n,a),i(a,r),i(r,p),i(r,$),i(r,v),i(v,w),i(w,k),i(v,S),i(v,E),i(E,N),i(v,A),i(v,B),i(B,C),i(v,M);for(let l=0;l<I.length;l+=1)I[l].m(v,null);R=!0},p(l,e){if(1&e){let t;for(x=l[3].offers,t=0;t<x.length;t+=1){const n=Al(l,x,t);I[t]?I[t].p(n,e):(I[t]=Ll(n),I[t].c(),I[t].m(v,null))}for(;t<I.length;t+=1)I[t].d(1);I.length=x.length}},i(l){R||(O(e.$$.fragment,l),R=!0)},o(l){U(e.$$.fragment,l),R=!1},d(l){J(e,l),l&&_(t),l&&_(n),f(I,l)}}}function Rl(e){let t,n,o,c,a,r,f,p,m,$=e[7].clear_name+"";return{c(){t=y("div"),n=y("span"),o=y("a"),c=y("img"),r=d(),f=y("label"),p=h($),u(c.src,a=e[7].icon_uri)||g(c,"src",a),g(c,"alt","Icon for "+e[7].clear_name),g(c,"id",e[7].short_name),g(c,"class","svelte-nayd1u"),g(o,"href",e[7].url),g(f,"for",m=e[7].short_name),g(f,"class","svelte-nayd1u"),b(n,"text-align","center"),b(n,"display","inline-block"),b(t,"display","inline-block")},m(l,e){s(l,t,e),i(t,n),i(n,o),i(o,c),i(n,r),i(n,f),i(f,p)},p:l,d(l){l&&_(t)}}}function Ll(l){let e,t,n,o,c,a=l[4].country+"",r=l[4].offers,u=[];for(let e=0;e<r.length;e+=1)u[e]=Rl(Bl(l,r,e));return{c(){e=y("div"),t=y("h4"),n=h(a),o=d();for(let l=0;l<u.length;l+=1)u[l].c();c=d(),g(e,"class","offer svelte-nayd1u")},m(l,a){s(l,e,a),i(e,t),i(t,n),i(e,o);for(let l=0;l<u.length;l+=1)u[l].m(e,null);i(e,c)},p(l,t){if(1&t){let n;for(r=l[4].offers,n=0;n<r.length;n+=1){const o=Bl(l,r,n);u[n]?u[n].p(o,t):(u[n]=Rl(o),u[n].c(),u[n].m(e,c))}for(;n<u.length;n+=1)u[n].d(1);u.length=r.length}},d(l){l&&_(e),f(u,l)}}}function Tl(e){let t,n;return t=new ll({}),{c(){D(t.$$.fragment)},m(l,e){q(t,l,e),n=!0},p:l,i(l){n||(O(t.$$.fragment,l),n=!0)},o(l){U(t.$$.fragment,l),n=!1},d(l){J(t,l)}}}function Pl(l){let e,t,n={ctx:l,current:null,token:null,hasCatch:!0,pending:Tl,then:Ml,catch:Cl,value:3,error:10,blocks:[,,,]};return z(l[0],n),{c(){e=p(),n.block.c()},m(l,o){s(l,e,o),n.block.m(l,n.anchor=o),n.mount=()=>e.parentNode,n.anchor=e,t=!0},p(e,[t]){K(n,l=e,t)},i(l){t||(O(n.block),t=!0)},o(l){for(let l=0;l<3;l+=1){U(n.blocks[l])}t=!1},d(l){l&&_(e),n.block.d(l),n.token=null,n=null}}}function xl(l,e,t){let{providers:n}=e,{selection:o}=e;o=JSON.parse(o);let c=_l(o,n);return l.$$set=l=>{"providers"in l&&t(2,n=l.providers),"selection"in l&&t(1,o=l.selection)},[c,o,n]}class Il extends Y{constructor(l){super(),F(this,l,xl,Pl,c,{providers:2,selection:1})}}function Gl(e){return{c:l,m:l,p:l,i:l,o:l,d:l}}function Hl(l){let e,t,n,o;const c=[zl,Ul,Ol],a=[];function r(l,e){return"search"==l[0]?0:"SearchResults"==l[0]?1:"Selection"==l[0]?2:-1}return~(e=r(l))&&(t=a[e]=c[e](l)),{c(){t&&t.c(),n=p()},m(l,t){~e&&a[e].m(l,t),s(l,n,t),o=!0},p(l,o){let u=e;e=r(l),e===u?~e&&a[e].p(l,o):(t&&(G(),U(a[u],1,1,(()=>{a[u]=null})),H()),~e?(t=a[e],t?t.p(l,o):(t=a[e]=c[e](l),t.c()),O(t,1),t.m(n.parentNode,n)):t=null)},i(l){o||(O(t),o=!0)},o(l){U(t),o=!1},d(l){~e&&a[e].d(l),l&&_(n)}}}function Ol(l){let e,t;return e=new Il({props:{providers:l[4],selection:l[3]}}),{c(){D(e.$$.fragment)},m(l,n){q(e,l,n),t=!0},p(l,t){const n={};8&t&&(n.selection=l[3]),e.$set(n)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function Ul(l){let e,t;return e=new Nl({props:{query:l[1]+",",locale:l[2]}}),{c(){D(e.$$.fragment)},m(l,n){q(e,l,n),t=!0},p(l,t){const n={};2&t&&(n.query=l[1]+","),4&t&&(n.locale=l[2]),e.$set(n)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function zl(e){let t,n;return t=new rl({}),{c(){D(t.$$.fragment)},m(l,e){q(t,l,e),n=!0},p:l,i(l){n||(O(t.$$.fragment,l),n=!0)},o(l){U(t.$$.fragment,l),n=!1},d(l){J(t,l)}}}function Kl(e){let t,n;return t=new ll({}),{c(){D(t.$$.fragment)},m(l,e){q(t,l,e),n=!0},p:l,i(l){n||(O(t.$$.fragment,l),n=!0)},o(l){U(t.$$.fragment,l),n=!1},d(l){J(t,l)}}}function Dl(l){let e,t,n={ctx:l,current:null,token:null,hasCatch:!1,pending:Kl,then:Hl,catch:Gl,value:4,blocks:[,,,]};return z(l[4],n),{c(){e=p(),n.block.c()},m(l,o){s(l,e,o),n.block.m(l,n.anchor=o),n.mount=()=>e.parentNode,n.anchor=e,t=!0},p(e,[t]){K(n,l=e,t)},i(l){t||(O(n.block),t=!0)},o(l){for(let l=0;l<3;l+=1){U(n.blocks[l])}t=!1},d(l){l&&_(e),n.block.d(l),n.token=null,n=null}}}function ql(l,e,t){let n=async function(){var l=await V(),e=[],t=l.map((async l=>{l.providers.forEach((l=>{if(l.monetization_types.includes("flatrate")||l.monetization_types.includes("free")||l.monetization_types.includes("ads")){var t=l.monetization_types,n=new RegExp("\\s*([0-9]+)").exec(l.icon_url);let o=null!=n?`https://www.justwatch.com/images/icon/${n[0]}/s100/icon.webp`:"NULL";e.push(new fl(l.id,l.short_name,l.clear_name,o,t))}}))}));return await Promise.all(t),[...new Map(e.map((l=>[l.id,l]))).values()]}(),{page:o="search"}=e,{search:c}=e,{locale:a}=e,{selection:r}=e;return l.$$set=l=>{"page"in l&&t(0,o=l.page),"search"in l&&t(1,c=l.search),"locale"in l&&t(2,a=l.locale),"selection"in l&&t(3,r=l.selection)},[o,c,a,r,n]}class Jl extends Y{constructor(l){super(),F(this,l,ql,Dl,c,{page:0,search:1,locale:2,selection:3})}}function jl(e){let t,n,o,c,a;return c=new Jl({}),{c(){t=y("main"),n=y("a"),n.innerHTML='<img src="https://colaski.github.io/global-streaming-search/images/github.png" alt="github logo" class="svelte-n4guo7"/>',o=d(),D(c.$$.fragment),g(n,"href","https://github.com/Colaski/global-streaming-search")},m(l,e){s(l,t,e),i(t,n),i(t,o),q(c,t,null),a=!0},p:l,i(l){a||(O(c.$$.fragment,l),a=!0)},o(l){U(c.$$.fragment,l),a=!1},d(l){l&&_(t),J(c)}}}return new class extends Y{constructor(l){super(),F(this,l,null,jl,c,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
